function toUtf8(t){var e,r,i,n;for(e="",i=t.length,r=0;i>r;r++)n=t.charCodeAt(r),n>=1&&127>=n?e+=t.charAt(r):n>2047?(e+=String.fromCharCode(224|n>>12&15),e+=String.fromCharCode(128|n>>6&63),e+=String.fromCharCode(128|n>>0&63)):(e+=String.fromCharCode(192|n>>6&31),e+=String.fromCharCode(128|n>>0&63));return e}document.createElement("canvas").getContext||!function(){function t(){return this.context_||(this.context_=new x(this))}function e(t,e){var r=X.call(arguments,2);return function(){return t.apply(e,r.concat(X.call(arguments)))}}function r(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function i(t,e,r){t.namespaces[e]||t.namespaces.add(e,r,"#default#VML")}function n(t){if(i(t,"g_vml_","urn:schemas-microsoft-com:vml"),i(t,"g_o_","urn:schemas-microsoft-com:office:office"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function o(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function a(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function s(){return[[1,0,0],[0,1,0],[0,0,1]]}function h(t,e){for(var r=s(),i=0;3>i;i++)for(var n=0;3>n;n++){for(var o=0,a=0;3>a;a++)o+=t[i][a]*e[a][n];r[i][n]=o}return r}function l(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function u(t){var e=t.indexOf("(",3),r=t.indexOf(")",e+1),i=t.substring(e+1,r).split(",");return(4!=i.length||"a"!=t.charAt(3))&&(i[3]=1),i}function c(t){return parseFloat(t)/100}function g(t,e,r){return Math.min(r,Math.max(e,t))}function f(t){var e,r,i,n,o,a;if(n=parseFloat(t[0])/360%360,0>n&&n++,o=g(c(t[1]),0,1),a=g(c(t[2]),0,1),0==o)e=r=i=a;else{var s=.5>a?a*(1+o):a+o-a*o,h=2*a-s;e=d(h,s,n+1/3),r=d(h,s,n),i=d(h,s,n-1/3)}return"#"+G[Math.floor(255*e)]+G[Math.floor(255*r)]+G[Math.floor(255*i)]}function d(t,e,r){return 0>r&&r++,r>1&&r--,1>6*r?t+6*(e-t)*r:1>2*r?e:2>3*r?t+(e-t)*(2/3-r)*6:t}function m(t){if(t in q)return q[t];var e,r=1;if(t=String(t),"#"==t.charAt(0))e=t;else if(/^rgb/.test(t)){for(var i,n=u(t),e="#",o=0;3>o;o++)i=-1!=n[o].indexOf("%")?Math.floor(255*c(n[o])):+n[o],e+=G[g(i,0,255)];r=+n[3]}else if(/^hsl/.test(t)){var n=u(t);e=f(n),r=n[3]}else e=j[t]||t;return q[t]={color:e,alpha:r}}function p(t){if(U[t])return U[t];var e=document.createElement("div"),r=e.style;try{r.font=t}catch(i){}return U[t]={style:r.fontStyle||W.style,variant:r.fontVariant||W.variant,weight:r.fontWeight||W.weight,size:r.fontSize||W.size,family:r.fontFamily||W.family}}function y(t,e){var r={};for(var i in t)r[i]=t[i];var n=parseFloat(e.currentStyle.fontSize),o=parseFloat(t.size);return r.size="number"==typeof t.size?t.size:-1!=t.size.indexOf("px")?o:-1!=t.size.indexOf("em")?n*o:-1!=t.size.indexOf("%")?n/100*o:-1!=t.size.indexOf("pt")?o/.75:n,r.size*=.981,r}function _(t){return t.style+" "+t.variant+" "+t.weight+" "+t.size+"px "+t.family}function v(t){return K[t]||"square"}function x(t){this.m_=s(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*O,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",r=t.ownerDocument.createElement("div");r.style.cssText=e,t.appendChild(r);var i=r.cloneNode(!1);i.style.backgroundColor="red",i.style.filter="alpha(opacity=0)",t.appendChild(i),this.element_=r,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function F(t,e,r,i){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:r.x,cp2y:r.y,x:i.x,y:i.y}),t.currentX_=i.x,t.currentY_=i.y}function E(t,e){var r=m(t.strokeStyle),i=r.color,n=r.alpha*t.globalAlpha,o=t.lineScale_*t.lineWidth;1>o&&(n*=o),e.push("<g_vml_:stroke",' opacity="',n,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',v(t.lineCap),'"',' weight="',o,'px"',' color="',i,'" />')}function C(t,e,r,i){var n=t.fillStyle,o=t.arcScaleX_,a=t.arcScaleY_,s=i.x-r.x,h=i.y-r.y;if(n instanceof D){var l=0,u={x:0,y:0},c=0,g=1;if("gradient"==n.type_){var f=n.x0_/o,d=n.y0_/a,p=n.x1_/o,y=n.y1_/a,_=A(t,f,d),v=A(t,p,y),x=v.x-_.x,F=v.y-_.y;l=180*Math.atan2(x,F)/Math.PI,0>l&&(l+=360),1e-6>l&&(l=0)}else{var _=A(t,n.x0_,n.y0_);u={x:(_.x-r.x)/s,y:(_.y-r.y)/h},s/=o*O,h/=a*O;var E=L.max(s,h);c=2*n.r0_/E,g=2*n.r1_/E-c}var C=n.colors_;C.sort(function(t,e){return t.offset-e.offset});for(var b=C.length,w=C[0].color,B=C[b-1].color,T=C[0].alpha*t.globalAlpha,S=C[b-1].alpha*t.globalAlpha,M=[],P=0;b>P;P++){var R=C[P];M.push(R.offset*g+c+" "+R.color)}e.push('<g_vml_:fill type="',n.type_,'"',' method="none" focus="100%"',' color="',w,'"',' color2="',B,'"',' colors="',M.join(","),'"',' opacity="',S,'"',' g_o_:opacity2="',T,'"',' angle="',l,'"',' focusposition="',u.x,",",u.y,'" />')}else if(n instanceof k){if(s&&h){var I=-r.x,N=-r.y;e.push("<g_vml_:fill",' position="',I/s*o*o,",",N/h*a*a,'"',' type="tile"',' src="',n.src_,'" />')}}else{var H=m(t.fillStyle),X=H.color,z=H.alpha*t.globalAlpha;e.push('<g_vml_:fill color="',X,'" opacity="',z,'" />')}}function A(t,e,r){var i=t.m_;return{x:O*(e*i[0][0]+r*i[1][0]+i[2][0])-H,y:O*(e*i[0][1]+r*i[1][1]+i[2][1])-H}}function b(t){return isFinite(t[0][0])&&isFinite(t[0][1])&&isFinite(t[1][0])&&isFinite(t[1][1])&&isFinite(t[2][0])&&isFinite(t[2][1])}function w(t,e,r){if(b(e)&&(t.m_=e,r)){var i=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=N(I(i))}}function D(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function k(t,e){switch(T(t),e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:B("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function B(t){throw new S(t)}function T(t){t&&1==t.nodeType&&"IMG"==t.tagName||B("TYPE_MISMATCH_ERR"),"complete"!=t.readyState&&B("INVALID_STATE_ERR")}function S(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var L=Math,M=L.round,P=L.sin,R=L.cos,I=L.abs,N=L.sqrt,O=10,H=O/2,X=(+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);n(document);var z={init:function(t){var r=t||document;r.createElement("canvas"),r.attachEvent("onreadystatechange",e(this.init_,this,r))},init_:function(t){for(var e=t.getElementsByTagName("canvas"),r=0;r<e.length;r++)this.initElement(e[r])},initElement:function(e){if(!e.getContext){e.getContext=t,n(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",o),e.attachEvent("onresize",a);var r=e.attributes;r.width&&r.width.specified?e.style.width=r.width.nodeValue+"px":e.width=e.clientWidth,r.height&&r.height.specified?e.style.height=r.height.nodeValue+"px":e.height=e.clientHeight}return e}};z.init();for(var G=[],Y=0;16>Y;Y++)for(var V=0;16>V;V++)G[16*Y+V]=Y.toString(16)+V.toString(16);var j={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},q={},W={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},U={},K={butt:"flat",round:"round"},J=x.prototype;J.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},J.beginPath=function(){this.currentPath_=[]},J.moveTo=function(t,e){var r=A(this,t,e);this.currentPath_.push({type:"moveTo",x:r.x,y:r.y}),this.currentX_=r.x,this.currentY_=r.y},J.lineTo=function(t,e){var r=A(this,t,e);this.currentPath_.push({type:"lineTo",x:r.x,y:r.y}),this.currentX_=r.x,this.currentY_=r.y},J.bezierCurveTo=function(t,e,r,i,n,o){var a=A(this,n,o),s=A(this,t,e),h=A(this,r,i);F(this,s,h,a)},J.quadraticCurveTo=function(t,e,r,i){var n=A(this,t,e),o=A(this,r,i),a={x:this.currentX_+2/3*(n.x-this.currentX_),y:this.currentY_+2/3*(n.y-this.currentY_)},s={x:a.x+(o.x-this.currentX_)/3,y:a.y+(o.y-this.currentY_)/3};F(this,a,s,o)},J.arc=function(t,e,r,i,n,o){r*=O;var a=o?"at":"wa",s=t+R(i)*r-H,h=e+P(i)*r-H,l=t+R(n)*r-H,u=e+P(n)*r-H;s!=l||o||(s+=.125);var c=A(this,t,e),g=A(this,s,h),f=A(this,l,u);this.currentPath_.push({type:a,x:c.x,y:c.y,radius:r,xStart:g.x,yStart:g.y,xEnd:f.x,yEnd:f.y})},J.rect=function(t,e,r,i){this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+i),this.lineTo(t,e+i),this.closePath()},J.strokeRect=function(t,e,r,i){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+i),this.lineTo(t,e+i),this.closePath(),this.stroke(),this.currentPath_=n},J.fillRect=function(t,e,r,i){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+i),this.lineTo(t,e+i),this.closePath(),this.fill(),this.currentPath_=n},J.createLinearGradient=function(t,e,r,i){var n=new D("gradient");return n.x0_=t,n.y0_=e,n.x1_=r,n.y1_=i,n},J.createRadialGradient=function(t,e,r,i,n,o){var a=new D("gradientradial");return a.x0_=t,a.y0_=e,a.r0_=r,a.x1_=i,a.y1_=n,a.r1_=o,a},J.drawImage=function(t){var e,r,i,n,o,a,s,h,l=t.runtimeStyle.width,u=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var c=t.width,g=t.height;if(t.runtimeStyle.width=l,t.runtimeStyle.height=u,3==arguments.length)e=arguments[1],r=arguments[2],o=a=0,s=i=c,h=n=g;else if(5==arguments.length)e=arguments[1],r=arguments[2],i=arguments[3],n=arguments[4],o=a=0,s=c,h=g;else{if(9!=arguments.length)throw Error("Invalid number of arguments");o=arguments[1],a=arguments[2],s=arguments[3],h=arguments[4],e=arguments[5],r=arguments[6],i=arguments[7],n=arguments[8]}var f=A(this,e,r),d=[],m=10,p=10;if(d.push(" <g_vml_:group",' coordsize="',O*m,",",O*p,'"',' coordorigin="0,0"',' style="width:',m,"px;height:",p,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var y=[];y.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",M(f.x/O),",","Dy=",M(f.y/O),"");var _=f,v=A(this,e+i,r),x=A(this,e,r+n),F=A(this,e+i,r+n);_.x=L.max(_.x,v.x,x.x,F.x),_.y=L.max(_.y,v.y,x.y,F.y),d.push("padding:0 ",M(_.x/O),"px ",M(_.y/O),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",y.join(""),", sizingmethod='clip');")}else d.push("top:",M(f.y/O),"px;left:",M(f.x/O),"px;");d.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',O*i,"px;"," height:",O*n,'px"',' cropleft="',o/c,'"',' croptop="',a/g,'"',' cropright="',(c-o-s)/c,'"',' cropbottom="',(g-a-h)/g,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",d.join(""))},J.stroke=function(t){var e=[],r=10,i=10;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',r,"px;height:",i,'px;"',' coordorigin="0,0"',' coordsize="',O*r,",",O*i,'"',' stroked="',!t,'"',' path="');for(var n={x:null,y:null},o={x:null,y:null},a=0;a<this.currentPath_.length;a++){var s,h=this.currentPath_[a];switch(h.type){case"moveTo":s=h,e.push(" m ",M(h.x),",",M(h.y));break;case"lineTo":e.push(" l ",M(h.x),",",M(h.y));break;case"close":e.push(" x "),h=null;break;case"bezierCurveTo":e.push(" c ",M(h.cp1x),",",M(h.cp1y),",",M(h.cp2x),",",M(h.cp2y),",",M(h.x),",",M(h.y));break;case"at":case"wa":e.push(" ",h.type," ",M(h.x-this.arcScaleX_*h.radius),",",M(h.y-this.arcScaleY_*h.radius)," ",M(h.x+this.arcScaleX_*h.radius),",",M(h.y+this.arcScaleY_*h.radius)," ",M(h.xStart),",",M(h.yStart)," ",M(h.xEnd),",",M(h.yEnd))}h&&((null==n.x||h.x<n.x)&&(n.x=h.x),(null==o.x||h.x>o.x)&&(o.x=h.x),(null==n.y||h.y<n.y)&&(n.y=h.y),(null==o.y||h.y>o.y)&&(o.y=h.y))}e.push(' ">'),t?C(this,e,n,o):E(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},J.fill=function(){this.stroke(!0)},J.closePath=function(){this.currentPath_.push({type:"close"})},J.save=function(){var t={};l(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=h(s(),this.m_)},J.restore=function(){this.aStack_.length&&(l(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},J.translate=function(t,e){var r=[[1,0,0],[0,1,0],[t,e,1]];w(this,h(r,this.m_),!1)},J.rotate=function(t){var e=R(t),r=P(t),i=[[e,r,0],[-r,e,0],[0,0,1]];w(this,h(i,this.m_),!1)},J.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e;var r=[[t,0,0],[0,e,0],[0,0,1]];w(this,h(r,this.m_),!0)},J.transform=function(t,e,r,i,n,o){var a=[[t,e,0],[r,i,0],[n,o,1]];w(this,h(a,this.m_),!0)},J.setTransform=function(t,e,r,i,n,o){var a=[[t,e,0],[r,i,0],[n,o,1]];w(this,a,!0)},J.drawText_=function(t,e,i,n,o){var a=this.m_,s=1e3,h=0,l=s,u={x:0,y:0},c=[],g=y(p(this.font),this.element_),f=_(g),d=this.element_.currentStyle,m=this.textAlign.toLowerCase();switch(m){case"left":case"center":case"right":break;case"end":m="ltr"==d.direction?"right":"left";break;case"start":m="rtl"==d.direction?"right":"left";break;default:m="left"}switch(this.textBaseline){case"hanging":case"top":u.y=g.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":u.y=-g.size/2.25}switch(m){case"right":h=s,l=.05;break;case"center":h=l=s/2}var v=A(this,e+u.x,i+u.y);c.push('<g_vml_:line from="',-h,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!o,'" stroked="',!!o,'" style="position:absolute;width:1px;height:1px;">'),o?E(this,c):C(this,c,{x:-h,y:0},{x:l,y:g.size});var x=a[0][0].toFixed(3)+","+a[1][0].toFixed(3)+","+a[0][1].toFixed(3)+","+a[1][1].toFixed(3)+",0,0",F=M(v.x/O)+","+M(v.y/O);c.push('<g_vml_:skew on="t" matrix="',x,'" ',' offset="',F,'" origin="',h,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',r(t),'" style="v-text-align:',m,";font:",r(f),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},J.fillText=function(t,e,r,i){this.drawText_(t,e,r,i,!1)},J.strokeText=function(t,e,r,i){this.drawText_(t,e,r,i,!0)},J.measureText=function(t){if(!this.textMeasureEl_){var e='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",e),this.textMeasureEl_=this.element_.lastChild}var r=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(r.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},J.clip=function(){},J.arcTo=function(){},J.createPattern=function(t,e){return new k(t,e)},D.prototype.addColorStop=function(t,e){e=m(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})};var Q=S.prototype=new Error;Q.INDEX_SIZE_ERR=1,Q.DOMSTRING_SIZE_ERR=2,Q.HIERARCHY_REQUEST_ERR=3,Q.WRONG_DOCUMENT_ERR=4,Q.INVALID_CHARACTER_ERR=5,Q.NO_DATA_ALLOWED_ERR=6,Q.NO_MODIFICATION_ALLOWED_ERR=7,Q.NOT_FOUND_ERR=8,Q.NOT_SUPPORTED_ERR=9,Q.INUSE_ATTRIBUTE_ERR=10,Q.INVALID_STATE_ERR=11,Q.SYNTAX_ERR=12,Q.INVALID_MODIFICATION_ERR=13,Q.NAMESPACE_ERR=14,Q.INVALID_ACCESS_ERR=15,Q.VALIDATION_ERR=16,Q.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=z,CanvasRenderingContext2D=x,CanvasGradient=D,CanvasPattern=k,DOMException=S}(),function(t){t.fn.qrcode=function(e){function r(t){this.mode=s,this.data=t}function i(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(t,e){if(void 0==t.length)throw Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=Array(t.length-r+e);for(var i=0;i<t.length-r;i++)this.num[i]=t[i+r]}function o(t,e){this.totalCount=t,this.dataCount=e}function a(){this.buffer=[],this.length=0}var s;r.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},i.prototype={addData:function(t){this.dataList.push(new r(t)),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var t=1,t=1;40>t;t++){for(var e=o.getRSBlocks(t,this.errorCorrectLevel),r=new a,i=0,n=0;n<e.length;n++)i+=e[n].dataCount;for(n=0;n<this.dataList.length;n++)e=this.dataList[n],r.put(e.mode,4),r.put(e.getLength(),h.getLengthInBits(e.mode,t)),e.write(r);if(r.getLengthInBits()<=8*i)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;7>=r;r++)if(!(-1>=t+r||this.moduleCount<=t+r))for(var i=-1;7>=i;i++)-1>=e+i||this.moduleCount<=e+i||(this.modules[t+r][e+i]=r>=0&&6>=r&&(0==i||6==i)||i>=0&&6>=i&&(0==r||6==r)||r>=2&&4>=r&&i>=2&&4>=i?!0:!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;8>r;r++){this.makeImpl(!0,r);var i=h.getLostPoint(this);(0==r||t>i)&&(t=i,e=r)}return e},createMovieClip:function(t,e,r){for(t=t.createEmptyMovieClip(e,r),this.make(),e=0;e<this.modules.length;e++)for(var r=1*e,i=0;i<this.modules[e].length;i++){var n=1*i;this.modules[e][i]&&(t.beginFill(0,100),t.moveTo(n,r),t.lineTo(n+1,r),t.lineTo(n+1,r+1),t.lineTo(n,r+1),t.endFill())}return t},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)},setupPositionAdjustPattern:function(){for(var t=h.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var i=t[e],n=t[r];if(null==this.modules[i][n])for(var o=-2;2>=o;o++)for(var a=-2;2>=a;a++)this.modules[i+o][n+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a?!0:!1}},setupTypeNumber:function(t){for(var e=h.getBCHTypeNumber(this.typeNumber),r=0;18>r;r++){var i=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=i}for(r=0;18>r;r++)i=!t&&1==(e>>r&1),this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=i},setupTypeInfo:function(t,e){for(var r=h.getBCHTypeInfo(this.errorCorrectLevel<<3|e),i=0;15>i;i++){var n=!t&&1==(r>>i&1);6>i?this.modules[i][8]=n:8>i?this.modules[i+1][8]=n:this.modules[this.moduleCount-15+i][8]=n}for(i=0;15>i;i++)n=!t&&1==(r>>i&1),8>i?this.modules[8][this.moduleCount-i-1]=n:9>i?this.modules[8][15-i-1+1]=n:this.modules[8][15-i-1]=n;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,i=this.moduleCount-1,n=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;2>s;s++)if(null==this.modules[i][a-s]){var l=!1;o<t.length&&(l=1==(t[o]>>>n&1)),h.getMask(e,i,a-s)&&(l=!l),this.modules[i][a-s]=l,n--,-1==n&&(o++,n=7)}if(i+=r,0>i||this.moduleCount<=i){i-=r,r=-r;break}}}},i.PAD0=236,i.PAD1=17,i.createData=function(t,e,r){for(var e=o.getRSBlocks(t,e),n=new a,s=0;s<r.length;s++){var l=r[s];n.put(l.mode,4),n.put(l.getLength(),h.getLengthInBits(l.mode,t)),l.write(n)}for(s=t=0;s<e.length;s++)t+=e[s].dataCount;if(n.getLengthInBits()>8*t)throw Error("code length overflow. ("+n.getLengthInBits()+">"+8*t+")");for(n.getLengthInBits()+4<=8*t&&n.put(0,4);0!=n.getLengthInBits()%8;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*t)&&(n.put(i.PAD0,8),!(n.getLengthInBits()>=8*t));)n.put(i.PAD1,8);return i.createBytes(n,e)},i.createBytes=function(t,e){for(var r=0,i=0,o=0,a=Array(e.length),s=Array(e.length),l=0;l<e.length;l++){var u=e[l].dataCount,c=e[l].totalCount-u,i=Math.max(i,u),o=Math.max(o,c);a[l]=Array(u);for(var g=0;g<a[l].length;g++)a[l][g]=255&t.buffer[g+r];for(r+=u,g=h.getErrorCorrectPolynomial(c),u=new n(a[l],g.getLength()-1).mod(g),s[l]=Array(g.getLength()-1),g=0;g<s[l].length;g++)c=g+u.getLength()-s[l].length,s[l][g]=c>=0?u.get(c):0}for(g=l=0;g<e.length;g++)l+=e[g].totalCount;for(r=Array(l),g=u=0;i>g;g++)for(l=0;l<e.length;l++)g<a[l].length&&(r[u++]=a[l][g]);for(g=0;o>g;g++)for(l=0;l<e.length;l++)g<s[l].length&&(r[u++]=s[l][g]);return r},s=4;for(var h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;0<=h.getBCHDigit(e)-h.getBCHDigit(h.G15);)e^=h.G15<<h.getBCHDigit(e)-h.getBCHDigit(h.G15);return(t<<10|e)^h.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;0<=h.getBCHDigit(e)-h.getBCHDigit(h.G18);)e^=h.G18<<h.getBCHDigit(e)-h.getBCHDigit(h.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return h.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case 0:return 0==(e+r)%2;case 1:return 0==e%2;case 2:return 0==r%3;case 3:return 0==(e+r)%3;case 4:return 0==(Math.floor(e/2)+Math.floor(r/3))%2;case 5:return 0==e*r%2+e*r%3;case 6:return 0==(e*r%2+e*r%3)%2;case 7:return 0==(e*r%3+(e+r)%2)%2;default:throw Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new n([1],0),r=0;t>r;r++)e=e.multiply(new n([1,l.gexp(r)],0));return e},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case 1:return 10;case 2:return 9;case s:return 8;case 8:return 8;default:throw Error("mode:"+t)}else if(27>e)switch(t){case 1:return 12;case 2:return 11;case s:return 16;case 8:return 10;default:throw Error("mode:"+t)}else{if(!(41>e))throw Error("type:"+e);switch(t){case 1:return 14;case 2:return 13;case s:return 16;case 8:return 12;default:throw Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,i=0;e>i;i++)for(var n=0;e>n;n++){for(var o=0,a=t.isDark(i,n),s=-1;1>=s;s++)if(!(0>i+s||i+s>=e))for(var h=-1;1>=h;h++)0>n+h||n+h>=e||0==s&&0==h||a==t.isDark(i+s,n+h)&&o++;o>5&&(r+=3+o-5)}for(i=0;e-1>i;i++)for(n=0;e-1>n;n++)o=0,t.isDark(i,n)&&o++,t.isDark(i+1,n)&&o++,t.isDark(i,n+1)&&o++,t.isDark(i+1,n+1)&&o++,(0==o||4==o)&&(r+=3);for(i=0;e>i;i++)for(n=0;e-6>n;n++)t.isDark(i,n)&&!t.isDark(i,n+1)&&t.isDark(i,n+2)&&t.isDark(i,n+3)&&t.isDark(i,n+4)&&!t.isDark(i,n+5)&&t.isDark(i,n+6)&&(r+=40);for(n=0;e>n;n++)for(i=0;e-6>i;i++)t.isDark(i,n)&&!t.isDark(i+1,n)&&t.isDark(i+2,n)&&t.isDark(i+3,n)&&t.isDark(i+4,n)&&!t.isDark(i+5,n)&&t.isDark(i+6,n)&&(r+=40);for(n=o=0;e>n;n++)for(i=0;e>i;i++)t.isDark(i,n)&&o++;return t=Math.abs(100*o/e/e-50)/5,r+10*t}},l={glog:function(t){if(1>t)throw Error("glog("+t+")");return l.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return l.EXP_TABLE[t]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},u=0;8>u;u++)l.EXP_TABLE[u]=1<<u;for(u=8;256>u;u++)l.EXP_TABLE[u]=l.EXP_TABLE[u-4]^l.EXP_TABLE[u-5]^l.EXP_TABLE[u-6]^l.EXP_TABLE[u-8];for(u=0;255>u;u++)l.LOG_TABLE[l.EXP_TABLE[u]]=u;n.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var i=0;i<t.getLength();i++)e[r+i]^=l.gexp(l.glog(this.get(r))+l.glog(t.get(i)));return new n(e,0)},mod:function(t){if(0>this.getLength()-t.getLength())return this;for(var e=l.glog(this.get(0))-l.glog(t.get(0)),r=Array(this.getLength()),i=0;i<this.getLength();i++)r[i]=this.get(i);for(i=0;i<t.getLength();i++)r[i]^=l.gexp(l.glog(t.get(i))+e);return new n(r,0).mod(t)}},o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(t,e){var r=o.getRsBlockTable(t,e);if(void 0==r)throw Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=r.length/3,n=[],a=0;i>a;a++)for(var s=r[3*a+0],h=r[3*a+1],l=r[3*a+2],u=0;s>u;u++)n.push(new o(h,l));return n},o.getRsBlockTable=function(t,e){switch(e){case 1:return o.RS_BLOCK_TABLE[4*(t-1)+0];case 0:return o.RS_BLOCK_TABLE[4*(t-1)+1];case 3:return o.RS_BLOCK_TABLE[4*(t-1)+2];case 2:return o.RS_BLOCK_TABLE[4*(t-1)+3]}},a.prototype={get:function(t){return 1==(this.buffer[Math.floor(t/8)]>>>7-t%8&1)},put:function(t,e){for(var r=0;e>r;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},"string"==typeof e&&(e={text:e}),e=t.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,imgtype:1,correctLevel:2,background:"#ffffff",foreground:"#000000"},e);var c=navigator.appName,g=navigator.appVersion,f=g.split(";");try{trim_Version=f[1].replace(/[ ]/g,"")}catch(d){trim_Version=""}return Isie=!1,"Microsoft Internet Explorer"==c&&("MSIE8.0"==trim_Version||"MSIE7.0"==trim_Version)&&(Isie=!0),this.each(function(){var r;if("canvas"!=e.render||Isie){for(r=new i(e.typeNumber,e.correctLevel),r.addData(e.text),r.make(),n=t("<table></table>").css("width",e.width+"px").css("height",e.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",e.background),o=e.width/r.getModuleCount(),a=e.height/r.getModuleCount(),s=0;s<r.getModuleCount();s++)for(h=t("<tr></tr>").css("height",a+"px").appendTo(n),l=0;l<r.getModuleCount();l++)t("<td></td>").css("width",o+"px").css("background-color",r.isDark(s,l)?e.foreground:e.background).appendTo(h);$(n).appendTo(this)}else{r=new i(e.typeNumber,e.correctLevel),r.addData(e.text),r.make();
var n=document.createElement("canvas");n.width=e.width,n.height=e.height;for(var o=n.getContext("2d"),a=e.width/r.getModuleCount(),s=e.height/r.getModuleCount(),h=0;h<r.getModuleCount();h++)for(var l=0;l<r.getModuleCount();l++){o.fillStyle=r.isDark(h,l)?e.foreground:e.background;var u=Math.ceil((l+1)*a)-Math.floor(l*a),c=Math.ceil((h+1)*a)-Math.floor(h*a);o.fillRect(Math.round(l*a),Math.round(h*s),u,c)}var g=new Image;g.src=n.toDataURL("image/png"),$(g).appendTo(this)}})}}(jQuery);